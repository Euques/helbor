<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Dinâmica</title>
</head>
<body>

    <!-- Menu -->
    <nav id="menu">
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#contato">Contato</a></li>
            <li><a href="#login">login</a></li>
        </ul>
    </nav>

    <!-- Área de conteúdo -->
    <section id="content">
        <!-- O conteúdo dinâmico será carregado aqui -->
    </section>

    <script type="module">
        // Função para carregar o conteúdo da página dinamicamente
        async function loadPage(page) {
            const section = document.getElementById('content');
            try {
                // Carregar o conteúdo HTML da página (home.html, etc.)
                const response = await fetch(`${page}.html`);
                if (!response.ok) throw new Error('Página não encontrada');
                const content = await response.text();

                // Inserir o conteúdo na seção
                section.innerHTML = content;

                // Aguarda o conteúdo ser inserido no DOM para rodar o script
                setTimeout(() => {
                    const script = document.createElement('script');
                    script.type = 'module'; // se for um módulo
                    script.innerHTML = `
                        import './${page}.js';
                    `;
                    document.body.appendChild(script);
                }, 100); // Pequeno atraso para garantir que o conteúdo foi inserido

            } catch (error) {
                section.innerHTML = '<p class="text-danger text-center">Página não encontrada.</p>';
                console.error(error);
            }
        }

        // Adicionar eventos de navegação para o menu
        function setupMenu() {
            const menuLinks = document.querySelectorAll('#menu a');
            menuLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = e.target.getAttribute('href').substring(1); // Pega o nome da página
                    loadPage(page); // Chama a função para carregar a página
                });
            });
        }

        // Inicializa o menu e carrega a primeira página (home)
        setupMenu();
        loadPage('home'); // Carregar a página inicial, home.html
    </script>

</body>
</html>
